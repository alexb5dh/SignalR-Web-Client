<!doctype html> <html lang=en> <head> <meta charset=UTF-8> <meta name=viewport content="width=device-width,initial-scale=1"> <meta http-equiv=X-UA-Compatible content="ie=edge"> <script src=./index.js></script> <title>Signal R JavaScript Client</title> <link href="main.css" rel="stylesheet"></head> <body> <h1>Signal R JavaScript Client</h1> <div> <table> <tr> <td>Url</td> <td><input type=text id=txt-url size=50 value=http://localhost:53128/connect/app /></td> </tr> <tr></tr> <tr></tr> <tr> <td>Methods</td> </tr><tr><td>WebSocket <input type=checkbox id=txt-chk-we class=lst-con-protocol value=ws checked=checked /></td></tr> <tr><td>Long Pooling <input type=checkbox id=txt-chk-lp class=lst-con-protocol disabled=disabled checked=checked value=lp /></td></tr> <tr><td>Server Send Event<input type=checkbox id=txt-chk-sse class=lst-con-protocol checked=checked value=sse /></td></tr>  <tr></tr> <tr></tr> <tr> <td>Server Method</td> <td><input type=text id=txt-method size=50 value=Get /></td> </tr> <tr></tr> <tr></tr> <tr> <td>Request Data</td> <td><textarea id=txt-input-area rows=10 cols=100></textarea></td> <td><input type=button id=btn-send value=Send onclick=sendData() /></td> </tr> <tr> <td>Response Data</td> <td><textarea id=txt-output-area rows=10 cols=100></textarea></td> </tr> <tr></tr> <tr></tr> <tr> <td><input type=button id=btn-connect value=Connect onclick=connectToServer() /></td> </tr> <tr></tr> <tr></tr> <tr> <td> <input type=button id=btn-disconnect value=Disconnect onclick=disconnect() /></td> </tr> </table> </div> <script>var connection=null;function connectToServer(){var e=document.getElementById("txt-url").value;(connection=(new signalR.HubConnectionBuilder).withUrl(e).build()).start().then(function(){console.log("Connected"),document.querySelector("#txt-output-area").value+="Connected...\n"}).catch(function(e){return console.error(e.toString())})}function sendData(){var e=document.getElementById("txt-method").value,n=new Array,t=JSON.parse(document.getElementById("txt-input-area").value);n.push(t),connection.invoke(e,t).catch(function(e){return console.log(e)}),connection.on("ReceiveData",function(e){document.querySelector("#txt-output-area").value+=JSON.stringify(e)+"\n"})}function disconnect(){connection.stop().then(function(){console.log("Disconnected"),document.querySelector("#txt-output-area").value+="Disconnected...\n"}).catch(function(e){return console.error(e.toString())})}function SetProtocols(){for(var e=document.querySelectorAll(".lst-con-protocol"),n=0;n<e.length;n++)"ws"===e[n].value&&!0!==e[n].checked?(console.log("WebSocket disabled"),WebSocket=void 0,0):"sse"===e[n].value&&!0!==e[n].checked?(console.log("Server Sent Event disabled"),EventSource=void 0,0):"lp"===e[n].value&&!0!==e[n].checked&&0}document.querySelectorAll(".lst-con-protocol").forEach(function(e){e.addEventListener("click",function(){SetProtocols()})})</script> <script type="text/javascript" src="main.js"></script></body> </html>